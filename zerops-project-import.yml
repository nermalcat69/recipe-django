#yamlPreprocessor=on
project:
  name: django + zerops
  tags:
    - zerops-recipe
services:
  - hostname: app
    type: python@3.12
    priority: 5
    buildFromGit: https://github.com/zeropsio/recipe-django
    enableSubdomainAccess: true
    envSecrets:
      SECRET_KEY: <@generateRandomBytes(<32>) | toString>

  - hostname: db
    type: postgresql@16
    mode: NON_HA
    priority: 10

  - hostname: storage
    type: object-storage
    objectStoragePolicy: public-read
    objectStorageSize: 5
    priority: 10

  - hostname: mailpit
    type: go@1
    buildFromGit: https://github.com/zeropsio/recipe-mailpit
    enableSubdomainAccess: true
